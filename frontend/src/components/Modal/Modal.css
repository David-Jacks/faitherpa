.rp-modal-overlay {
  /* stronger dark overlay to increase contrast behind the modal */
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.62);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 1rem;
  /* Prevent touch-driven overscroll from propagating to the document on iOS */
  overscroll-behavior: contain;
  touch-action: manipulation;
}

.rp-modal {
  /* Dark glass surface for readability while keeping the glass aesthetic */
  background: linear-gradient(180deg, rgba(20,24,28,0.94), rgba(14,18,22,0.9));
  border: 0.0625rem solid rgba(var(--color-neutral-rgb), 0.06);
  backdrop-filter: blur(6px) saturate(120%);
  -webkit-backdrop-filter: blur(6px) saturate(120%);
  border-radius: var(--card-radius);
  max-width: var(--modal-max-width);
  width: 100%;
  box-shadow: 0 1.125rem 3.75rem rgba(2,6,23,0.6);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* When modal hosts a form, slightly tighten padding and ensure body uses readable text color */
.rp-modal.rp-modal--form { max-width: var(--modal-max-width); }
.rp-modal.rp-modal--form .rp-modal-body {
  background: var(--color-neutral);
  color: var(--color-text);
  padding: 1.25rem;
}

.rp-modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem 1rem;
  border-bottom: 0.0625rem solid rgba(var(--color-neutral-rgb), 0.06);
}

.rp-modal-title {
  margin: 0;
  font-size: 1.05rem;
  color: var(--color-accent);
  font-family: var(--font-heading);
}

.rp-modal-close {
  background: transparent;
  border: none;
  font-size: 1.25rem;
  line-height: 1;
  cursor: pointer;
  color: var(--color-close);
}

.rp-modal-body {
  padding: 1.25rem;
  max-height: 72vh;
  overflow: auto;
  color: var(--app-text);
  /* Allow smooth scrolling inside the modal on iOS but prevent rubber-band */
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* Specific rules to improve readability of forms inside the modal */
.rp-modal.rp-modal--form {
  /* Use a solid, light card for the form to maximize contrast and readability */
  background: #ffffff;
  color: var(--text-on-light);
  border: 0.0625rem solid rgba(var(--color-neutral-rgb), 0.85);
  backdrop-filter: none;
}
.rp-modal.rp-modal--form .rp-modal-body {
  background: transparent;
  color: var(--text-on-light) !important;
}
.rp-modal.rp-modal--form .rp-fieldset input,
.rp-modal.rp-modal--form .rp-fieldset textarea,
.rp-modal.rp-modal--form .rp-fieldset select {
  background: #ffffff !important;
  color: var(--text-on-light) !important;
  border: 0.0625rem solid rgba(var(--color-neutral-rgb), 0.6) !important;
}
.rp-modal.rp-modal--form .rp-fieldset label { color: var(--text-on-light) !important }
.rp-modal.rp-modal--form .rp-fieldset input::placeholder,
.rp-modal.rp-modal--form .rp-fieldset textarea::placeholder { color: rgba(var(--color-secondary-rgb), 0.6) !important }
.rp-modal.rp-modal--form .rp-form-error { background: rgba(var(--color-primary-rgb), 0.12); color: var(--color-primary); }
.rp-modal.rp-modal--form .rp-form-success { background: rgba(var(--color-accent-rgb), 0.12); color: var(--color-accent); }
.rp-modal.rp-modal--form .btn--outline { border-color: rgba(var(--color-neutral-rgb), 0.6); color: var(--text-on-light); }

/* Ensure modal title and close icon are readable on the white form */
.rp-modal.rp-modal--form .rp-modal-title { color: var(--text-on-light) !important }
.rp-modal.rp-modal--form .rp-modal-close { color: var(--text-on-light) !important }

@media (max-width: 40rem) {
  .rp-modal { max-width: 35rem; }
}

/* Brand variables are defined globally in src/index.css; no local import needed. */

